#include <cpp.17/sha1.hpp>

//gcc7.2 bug
template<std::size_t N>
constexpr std::string_view make_constexpr_stringview(const char (&str)[N]) {
    return {str,N-1};
}

static_assert(SHA1(make_constexpr_stringview("Hello world") ).final() == SHA1::Digest{
    0x7b,0x50,0x2c,0x3a,0x1f,0x48,0xc8,0x60,0x9a,0xe2,0x12,0xcd,
    0xfb,0x63,0x9d,0xee,0x39,0x67,0x3f,0x5e
});
static_assert(SHA1(make_constexpr_stringview("SHA1 constexpr test")).final() == SHA1::Digest{
    0x71,0x3e,0x0b,0x0d,0x14,0xcd,0xc4,0xe5,0x12,0x05,0xd1,0x31,0x98,0xaa,0x82,0xc8,0xa4,0x06,0x68,0xe7
});

int main() {
    return 0;
}